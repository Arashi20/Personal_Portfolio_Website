{% extends "base.html" %}

{% block title %}Projects - Arash Mirshahi{% endblock %}

{% block content %}
<section class="hero hero-compact">
    <div class="hero-text">
        <h1>My Projects</h1>
        <p class="subtitle">
            A selection of my work in Data Science, AI Agents, and Engineering.
        </p>
    </div>
</section>

<!-- SEARCH BAR, responsive and accessible ðŸš€ -->
<form method="get" class="project-search-bar" role="search"
    style="margin: 32px auto 24px auto; max-width: 460px; width: 100%;">
    <label for="project-search" class="visually-hidden">Search Projects</label>
    <input type="search" id="project-search" name="q" value="{{ search_query | default('') }}" class="search-input"
        autocomplete="off" placeholder="Search by title, keyword, or tech stack..."
        style="width: 100%; padding: 12px 16px; font-size: 1.05rem; border-radius: 8px; border: 1.5px solid #D1E7FF; background: #fafdff;" />
</form>


<div class="projects-grid">
    {% if projects %}
    {% for project in projects %}
    <div class="project-card">
        <div class="card-header">
            <h3 class="project-title">{{ project.title }}</h3>
            <div class="tech-stack tech-stack-left">
                {% for badge in project.badges %}
                <span class="tech-badge tech-badge-small">{{ badge }}</span>
                {% endfor %}
            </div>
        </div>
        <div class="card-content">
            <p class="project-desc">{{ project.desc }}</p>
        </div>
        <div class="card-footer">
            {% if project.external %}
            <a href="{{ project.url }}" target="_blank" rel="noopener" class="btn-link">
                {{ project.button }} <i class="{{ project.icon }}" aria-hidden="true"></i>
            </a>
            {% else %}
            <a href="{{ project.url }}" class="btn-link">
                {{ project.button }} <i class="{{ project.icon }}" aria-hidden="true"></i>
            </a>
            {% endif %}
        </div>
    </div>
    {% endfor %}
    {% else %}
    <div style="text-align:center;padding:2em;color:#888;">
        No projects matched your search.
    </div>
    {% endif %}
</div>
{% endblock %}